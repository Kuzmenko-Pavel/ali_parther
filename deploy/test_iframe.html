<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<script>
'use strict';
var console_detect;
var calback = function (detect) {
    console.log(console_detect);
    var div = document.createElement('div');
    div.innerHTML = 'Dev Tools ' + detect;
    document.body.append(div);
};

var threshold = 160;
var loop;
var cheker = function (calback) {
    try {
        var widthThreshold = window.outerWidth - window.innerWidth > threshold;
        var heightThreshold = window.outerHeight - window.innerHeight > threshold;
        var div = document.createElement('div');
        Object.defineProperty(div, "id", {
            get: function () {
                if(console_detect !== true){
                    console.log("Dev Tools detected!");
                    document.body.append(div);
                    clearInterval(loop);
                    console_detect = true;
                    calback(true);
                }
            }
        });
        if (
            !(heightThreshold && widthThreshold) &&
            ((window.Firebug && window.Firebug.chrome && window.Firebug.chrome.isInitialized) || widthThreshold || heightThreshold)
        ) {
            console.log('isOpen');
            clearInterval(loop);
            console_detect = true;
            calback(true);
        } else {
            console.log('isClose');
            console_detect = false;
            calback(false);
            console.log(div);
        }
    } catch (err) {
    }
};
var interval_cheker = function () {
    console.log(console_detect);
    if(console_detect === false){
        loop = setInterval(cheker, 1000, calback);
    }
};
console.log(console_detect);
cheker(calback);
console.log(console_detect);
setTimeout(interval_cheker, 500);
</script>
</body>
</html>
